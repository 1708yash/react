userid =F1wIDpj7CDeSHxh3q9IsWgStBu22
geocode-api :AIzaSyDcPzVwo0hYZ-bZGTl0-U65-CZhNPUa6R4
rules_version='2'   ;
service colud.firestore {
    match/databases/{database}/documents{
        //Listings
    match/listings/{listing} {
    allow read;
    allow create: if request.auth != null && request.resource.data.imgUrls.size()
    allow delete: if request.data.userRef == request.auth.uid;
    allow update: if resource.data.userRef == request.uid;
    }

    //Users
    match/users/{user} {
        allow read;
        allow create;
        allow update: if request.auth.uid == user
    }
    }
}

//storage rules_

rules_version = '2';
service firebase.storage {
    match /b/{bucket}/o {
        match /{allPaths=**}{
            allow read;
            allow write:if
            request.auth !=null &&
            request.resource.size < 2 * 1024 *1024 && //2mb
            request.resource.contentType.matches('image/.*')
        }
    }
}